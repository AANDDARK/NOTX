/// <reference types="node" />
/// <reference types="node" />
import type { Server } from "node:http";
import type { Socket } from "node:net";
import { type Compiler, MultiCompiler } from "@rspack/core";
import type { FSWatcher } from "chokidar";
import WebpackDevServer from "webpack-dev-server";
import type { DevServer, ResolvedDevServer } from "./config";
export declare class RspackDevServer extends WebpackDevServer {
    static getFreePort: (port: string, host: string) => Promise<any>;
    /**
     * resolved after `normalizedOptions`
     */
    options: ResolvedDevServer;
    staticWatchers: FSWatcher[];
    sockets: Socket[];
    server: Server;
    /** @ts-ignore */
    compiler: Compiler | MultiCompiler;
    webSocketServer: WebpackDevServer.WebSocketServerImplementation | undefined;
    static version: string;
    constructor(options: DevServer, compiler: Compiler | MultiCompiler);
    private getClientTransport;
    initialize(): Promise<void>;
    private setupDevMiddleware;
    private setupMiddlewares;
    private addAdditionalEntries;
}
